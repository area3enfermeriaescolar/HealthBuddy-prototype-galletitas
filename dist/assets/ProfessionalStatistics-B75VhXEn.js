import{r as s,j as e}from"./index-t3TyDbTL.js";const i={primary:"#00B7D8",textDark:"#2C3E50",textMedium:"#4A6572",accentGreen:"#27AE60",accentOrange:"#F39C12",accentRed:"#E74C3C",lightBg:"#F7FAFC",lightGrey:"#ECEFF1",purple:"#9C27B0"},y=()=>e.jsx("div",{style:{position:"fixed",top:10,right:10,background:"#00B7D8",color:"#fff",padding:"4px 12px",borderRadius:20,fontSize:"0.75rem",fontWeight:600,letterSpacing:.5,zIndex:1e3},children:"DEMO"}),u=({data:o,title:c,color:p=i.primary})=>{const d=Math.max(...o.map(l=>l.value));return e.jsxs("div",{style:{marginBottom:24},children:[c&&e.jsx("h3",{style:{fontSize:16,marginBottom:16,color:i.textDark},children:c}),o.map((l,x)=>e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{fontSize:window.innerWidth<480?13:14,color:i.textMedium},children:l.label}),e.jsx("span",{style:{fontSize:window.innerWidth<480?13:14,fontWeight:600,color:i.textDark},children:l.value})]}),e.jsx("div",{style:{width:"100%",height:8,background:i.lightBg,borderRadius:4,overflow:"hidden"},children:e.jsx("div",{style:{width:`${l.value/d*100}%`,height:"100%",background:p,borderRadius:4,transition:"width 0.3s ease"}})})]},x))]})},v=({data:o})=>{const[c,p]=s.useState(typeof window<"u"?window.innerWidth:768),d=o.reduce((n,t)=>n+t.value,0);s.useEffect(()=>{const n=()=>p(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]);const l=c<480,x=l?120:150,r=[i.primary,i.accentGreen,i.purple,i.accentOrange,i.accentRed];if(l)return e.jsx("div",{children:o.map((n,t)=>e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("div",{style:{width:10,height:10,borderRadius:2,background:r[t%r.length]}}),e.jsx("span",{style:{fontSize:13,color:i.textMedium},children:n.label})]}),e.jsx("span",{style:{fontSize:13,fontWeight:500,color:i.textDark},children:n.value})]}),e.jsx("div",{style:{width:"100%",height:6,background:i.lightBg,borderRadius:3,overflow:"hidden"},children:e.jsx("div",{style:{width:`${n.value/d*100}%`,height:"100%",background:r[t%r.length],borderRadius:3}})})]},t))});let h=0;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:32},children:[e.jsxs("div",{style:{width:x,height:x,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.map((n,t)=>{const g=n.value/d*100/100*360,b=r[t%r.length],m=h;return h+=g,e.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",borderRadius:"50%",background:`conic-gradient(${b} ${m}deg ${h}deg, transparent ${h}deg 360deg)`,transform:"rotate(0deg)"}},t)}),e.jsx("div",{style:{position:"absolute",width:"60%",height:"60%",background:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.jsx("span",{style:{fontSize:14,fontWeight:600,color:i.textDark},children:d})})]}),e.jsx("div",{children:o.map((n,t)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:4,background:r[t%r.length]}}),e.jsx("span",{style:{fontSize:14,color:i.textMedium},children:n.label}),e.jsxs("span",{style:{fontSize:14,fontWeight:500,color:i.textDark},children:["(",n.value,")"]})]},t))})]})},k=({onNavigate:o})=>{const[c,p]=s.useState("all"),[d,l]=s.useState("month"),[x,r]=s.useState(!0),[h,n]=s.useState(typeof window<"u"?window.innerWidth:768);s.useEffect(()=>{const a=()=>n(window.innerWidth);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),s.useEffect(()=>{setTimeout(()=>r(!1),1e3)},[]);const t=h<480,f=[{id:"all",name:"Todos los centros"},{id:"ies-mediterraneo",name:"IES Mediterráneo"},{id:"ies-san-juan",name:"IES San Juan Bosco"},{id:"ies-mar-menor",name:"IES Mar Menor"}],g=[{label:"Salud mental",value:45},{label:"Sexualidad",value:38},{label:"Nutrición",value:32},{label:"Adicciones",value:28},{label:"Relaciones",value:24},{label:"Ejercicio físico",value:21}],b=[{label:"12-14 años",value:42},{label:"15-16 años",value:65},{label:"17-18 años",value:48},{label:"18+ años",value:23}],m=[{label:"Femenino",value:112},{label:"Masculino",value:66}],j=[{label:"Presencial",value:134},{label:"Virtual (Chat)",value:44}],w=[{label:"Recursos de salud mental",value:156},{label:"Guías de sexualidad",value:142},{label:"Material nutricional",value:98},{label:"Prevención adicciones",value:76},{label:"Ejercicios y actividad física",value:54}],S=[{label:"Ene",value:25},{label:"Feb",value:32},{label:"Mar",value:45},{label:"Abr",value:38},{label:"May",value:52},{label:"Jun",value:48}];return x?e.jsxs("div",{style:{padding:t?"0.75rem":"1rem",paddingBottom:100,maxWidth:800,margin:"0 auto"},children:[e.jsx(y,{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16,position:"relative"},children:[e.jsxs("button",{onClick:()=>o("dashboard"),style:{background:"none",border:"none",color:i.primary,fontSize:16,display:"flex",alignItems:"center",gap:4,cursor:"pointer",padding:0,position:"absolute",left:0},children:[e.jsx("span",{style:{fontSize:20},children:"←"})," ",!t&&"Atrás"]}),e.jsx("h1",{style:{flex:1,textAlign:"center",fontWeight:"bold",fontSize:t?16:18},children:"Estadísticas"})]}),e.jsx("div",{style:{textAlign:"center",padding:"30px 0",color:i.textMedium},children:"Cargando estadísticas..."})]}):e.jsxs("div",{style:{padding:t?"0.75rem":"1rem",paddingBottom:100,maxWidth:800,margin:"0 auto"},children:[e.jsx(y,{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16,position:"relative"},children:[e.jsxs("button",{onClick:()=>o("dashboard"),style:{background:"none",border:"none",color:i.primary,fontSize:16,display:"flex",alignItems:"center",gap:4,cursor:"pointer",padding:0,position:"absolute",left:0},children:[e.jsx("span",{style:{fontSize:20},children:"←"})," ",!t&&"Atrás"]}),e.jsx("h1",{style:{flex:1,textAlign:"center",fontWeight:"bold",fontSize:t?16:18},children:"Estadísticas"})]}),e.jsxs("div",{style:{display:"flex",gap:t?8:16,marginBottom:t?16:24,flexDirection:t?"column":"row",flexWrap:"wrap"},children:[e.jsx("select",{value:c,onChange:a=>p(a.target.value),style:{flex:1,minWidth:150,padding:t?"8px 10px":"10px 12px",borderRadius:8,border:`1px solid ${i.lightGrey}`,fontSize:t?13:14,background:"white"},children:f.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))}),e.jsxs("select",{value:d,onChange:a=>l(a.target.value),style:{flex:1,minWidth:120,padding:t?"8px 10px":"10px 12px",borderRadius:8,border:`1px solid ${i.lightGrey}`,fontSize:t?13:14,background:"white"},children:[e.jsx("option",{value:"week",children:"Última semana"}),e.jsx("option",{value:"month",children:"Último mes"}),e.jsx("option",{value:"quarter",children:"Último trimestre"}),e.jsx("option",{value:"year",children:"Último año"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fit, minmax(${t?"100px":"150px"}, 1fr))`,gap:t?8:16,marginBottom:t?16:24},children:[e.jsxs("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:t?24:32,fontWeight:"bold",color:i.primary},children:"178"}),e.jsx("div",{style:{fontSize:t?12:14,color:i.textMedium},children:"Total consultas"})]}),e.jsxs("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:t?24:32,fontWeight:"bold",color:i.accentGreen},children:"526"}),e.jsx("div",{style:{fontSize:t?12:14,color:i.textMedium},children:"Recursos accedidos"})]}),e.jsxs("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:t?24:32,fontWeight:"bold",color:i.purple},children:"15.3"}),e.jsx("div",{style:{fontSize:t?12:14,color:i.textMedium},children:"Edad promedio"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fit, minmax(${t?"280px":"300px"}, 1fr))`,gap:t?16:24},children:[e.jsx("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:e.jsx(u,{data:g,title:"Temas más consultados"})}),e.jsx("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:e.jsx(u,{data:b,title:"Distribución por edad",color:i.purple})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fit, minmax(${t?"280px":"300px"}, 1fr))`,gap:t?16:24,marginTop:t?16:24},children:[e.jsxs("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[e.jsx("h3",{style:{fontSize:t?15:16,marginBottom:16,color:i.textDark},children:"Distribución por género"}),e.jsx(v,{data:m})]}),e.jsxs("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[e.jsx("h3",{style:{fontSize:t?15:16,marginBottom:16,color:i.textDark},children:"Tipo de consulta"}),e.jsx(v,{data:j})]})]}),e.jsx("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",marginTop:t?16:24},children:e.jsx(u,{data:S,title:"Tendencia de consultas",color:i.accentGreen})}),e.jsx("div",{style:{background:"white",borderRadius:12,padding:t?12:16,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",marginTop:t?16:24},children:e.jsx(u,{data:w,title:"Recursos más accedidos",color:i.accentOrange})}),e.jsx("div",{style:{marginTop:t?16:24,textAlign:"center"},children:e.jsxs("button",{style:{background:i.primary,color:"white",border:"none",borderRadius:20,padding:t?"8px 16px":"10px 20px",fontSize:t?13:14,fontWeight:500,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:8,width:t?"100%":"auto",justifyContent:"center"},children:[e.jsx("span",{children:"📥"})," Exportar informe"]})}),e.jsx("div",{style:{position:"fixed",left:0,right:0,bottom:0,background:"#fff",boxShadow:"0 -2px 8px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-around",padding:t?"0.5rem 0":"0.6rem 0",zIndex:40},children:[{id:"dashboard",label:"Inicio",icon:"🏠"},{id:"chat",label:"Chat",icon:"💬"},{id:"appointments",label:"Citas",icon:"📅"},{id:"resources",label:"Recursos",icon:"📚"}].map(a=>e.jsxs("div",{onClick:()=>o(a.id),style:{textAlign:"center",cursor:"pointer",padding:"4px 8px",position:"relative"},children:[e.jsx("div",{style:{fontSize:t?"1.4rem":"1.6rem",color:i.textMedium},children:a.icon}),e.jsx("span",{style:{fontSize:t?11:12,color:i.textMedium,fontWeight:400},children:a.label})]},a.id))})]})};export{k as default};
