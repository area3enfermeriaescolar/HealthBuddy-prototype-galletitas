import{r as d,j as e}from"./index-BmE4jDWU.js";const t={primary:"#00B7D8",textDark:"#2C3E50",textMedium:"#4A6572",lightBg:"#F7FAFC",lightGrey:"#ECEFF1",accent:"#4CAF50",warning:"#FF9800"};function R(){return e.jsx("div",{style:{position:"fixed",top:10,right:10,background:"#00B7D8",color:"#fff",padding:"4px 12px",borderRadius:20,fontSize:"0.75rem",fontWeight:600,letterSpacing:.5,zIndex:1e3},children:"DEMO"})}function B({active:i,onNavigate:o,userType:a}){const s={professional:[{id:"dashboard",icon:"🏠",label:"Inicio"},{id:"chat",icon:"💬",label:"Chat"},{id:"appointments",icon:"📅",label:"Citas"},{id:"statistics",icon:"📊",label:"Datos"},{id:"profile",icon:"👤",label:"Perfil"}]},c=s[a]||s.professional;return e.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"white",borderTop:"1px solid #e0e0e0",display:"flex",height:60,zIndex:100},children:c.map(l=>e.jsxs("div",{onClick:()=>o(l.id),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",color:i===l.id?t.primary:t.textMedium,transition:"color 0.2s ease"},children:[e.jsx("span",{style:{fontSize:"1.2rem",marginBottom:2},children:l.icon}),e.jsx("span",{style:{fontSize:"0.7rem",fontWeight:i===l.id?600:400},children:l.label})]},l.id))})}const j=({title:i,onBack:o})=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[e.jsx("button",{onClick:o,style:{background:"transparent",border:"none",fontSize:24,padding:"4px 8px",marginRight:8,cursor:"pointer",color:t.textMedium},children:"←"}),e.jsx("h1",{style:{margin:0,fontSize:20,color:t.textDark},children:i})]}),M=({school:i,onSelect:o})=>e.jsxs("div",{onClick:()=>o(i),style:{background:"white",borderRadius:12,padding:16,marginBottom:12,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",cursor:"pointer",transition:"transform 0.15s ease"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,marginBottom:4,fontSize:16,color:t.textDark},children:i.name}),e.jsx("p",{style:{margin:0,fontSize:14,color:t.textMedium},children:i.address})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{background:t.primary,color:"white",borderRadius:20,padding:"4px 12px",fontSize:14,fontWeight:500},children:i.students.length}),e.jsx("span",{style:{fontSize:12,color:t.textMedium,marginTop:2},children:"estudiantes"})]})]}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8},children:[e.jsxs("div",{style:{background:t.lightGrey,padding:"4px 8px",borderRadius:4,fontSize:12,color:t.textMedium},children:[e.jsx("span",{style:{marginRight:4},children:"📅"}),i.nextVisit]}),i.hasAlert&&e.jsxs("div",{style:{background:"rgba(255, 152, 0, 0.1)",padding:"4px 8px",borderRadius:4,fontSize:12,color:t.warning,display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{marginRight:4},children:"⚠️"}),"Consultas pendientes"]})]})]}),E=({student:i,onSelect:o})=>e.jsxs("div",{onClick:()=>o(i),style:{background:"white",borderRadius:12,padding:16,marginBottom:12,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("h3",{style:{margin:0,fontSize:16,color:t.textDark},children:["NRE: ",i.nre]}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:4},children:[e.jsxs("span",{style:{fontSize:14,color:t.textMedium},children:[i.age," años"]}),e.jsx("span",{style:{fontSize:14,color:t.textMedium},children:i.gender}),e.jsx("span",{style:{fontSize:14,color:t.textMedium},children:i.grade})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.lastVisit?e.jsxs("span",{style:{fontSize:12,color:t.textMedium},children:["Última: ",i.lastVisit]}):e.jsx("span",{style:{background:"rgba(76,175,80,0.1)",padding:"4px 8px",borderRadius:16,fontSize:12,color:t.accent},children:"Sin consultas"}),e.jsx("span",{style:{fontSize:20,color:t.textMedium},children:"→"})]})]}),T=({school:i,onSave:o,onCancel:a})=>{const[s,c]=d.useState(i.consultationDay||""),[l,m]=d.useState(i.consultationStartTime||""),[x,g]=d.useState(i.consultationEndTime||""),[h,p]=d.useState(i.consultationLocation||""),u=[{value:"monday",label:"Lunes"},{value:"tuesday",label:"Martes"},{value:"wednesday",label:"Miércoles"},{value:"thursday",label:"Jueves"},{value:"friday",label:"Viernes"}],y=()=>{var r;o({...i,consultationDay:s,consultationStartTime:l,consultationEndTime:x,consultationLocation:h,nextVisit:((r=u.find(f=>f.value===s))==null?void 0:r.label)+" "+l})};return e.jsxs("div",{style:{background:"white",borderRadius:12,padding:16,marginBottom:16,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsx("h3",{style:{margin:"0 0 16px 0",color:t.primary},children:"Modificar horario de consulta"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,fontWeight:500},children:"Día de la semana"}),e.jsxs("select",{value:s,onChange:r=>c(r.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:`1px solid ${t.lightGrey}`,fontSize:14},children:[e.jsx("option",{value:"",children:"Seleccionar día"}),u.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,fontWeight:500},children:"Hora inicio"}),e.jsx("input",{type:"time",value:l,onChange:r=>m(r.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:`1px solid ${t.lightGrey}`,fontSize:14}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,fontWeight:500},children:"Hora fin"}),e.jsx("input",{type:"time",value:x,onChange:r=>g(r.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:`1px solid ${t.lightGrey}`,fontSize:14}})]})]}),e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,fontWeight:500},children:"Ubicación"}),e.jsx("input",{type:"text",value:h,onChange:r=>p(r.target.value),placeholder:"Ej: Sala de enfermería, Aula 12...",style:{width:"100%",padding:"10px 12px",borderRadius:8,border:`1px solid ${t.lightGrey}`,fontSize:14}})]}),e.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[e.jsx("button",{onClick:a,style:{background:"#f5f5f5",border:"none",borderRadius:8,padding:"8px 16px",fontSize:14,cursor:"pointer"},children:"Cancelar"}),e.jsx("button",{onClick:y,style:{background:t.primary,color:"white",border:"none",borderRadius:8,padding:"8px 16px",fontSize:14,fontWeight:500,cursor:"pointer"},children:"Guardar cambios"})]})]})},D=({student:i,onBack:o})=>e.jsxs("div",{children:[e.jsx(j,{title:`Historial - NRE: ${i.nre}`,onBack:o}),e.jsxs("div",{style:{background:"white",borderRadius:12,padding:16,marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,padding:"12px 16px",background:t.lightBg,borderRadius:8},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:16},children:"Datos del estudiante"}),e.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:14,color:t.textMedium},children:[i.age," años · ",i.gender," · ",i.grade]})]}),e.jsxs("button",{style:{background:t.primary,color:"white",border:"none",borderRadius:20,padding:"6px 12px",fontSize:13,display:"flex",alignItems:"center",gap:4,cursor:"pointer"},children:[e.jsx("span",{children:"💬"})," Chat"]})]}),i.history.length?e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:16},children:"Historial de consultas"}),i.history.map((a,s)=>e.jsxs("div",{style:{borderLeft:`3px solid ${t.primary}`,paddingLeft:12,marginBottom:16,background:s%2===0?t.lightBg:"white",padding:"12px",borderRadius:"0 8px 8px 0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("h4",{style:{margin:0,fontSize:15,color:t.textDark},children:a.type}),e.jsx("span",{style:{fontSize:14,color:t.textMedium},children:a.date})]}),e.jsx("p",{style:{margin:"4px 0 0 0",fontSize:14,color:t.textMedium},children:a.description}),a.tags&&e.jsx("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:a.tags.map((c,l)=>e.jsx("span",{style:{background:t.lightGrey,padding:"2px 8px",borderRadius:12,fontSize:12,color:t.textMedium},children:c},l))})]},s))]}):e.jsxs("div",{style:{textAlign:"center",padding:"30px 0",color:t.textMedium},children:[e.jsx("p",{children:"No hay consultas registradas"}),e.jsx("div",{style:{fontSize:40,margin:"16px 0"},children:"📋"}),e.jsx("p",{children:"Este estudiante aún no ha realizado consultas"}),e.jsx("button",{style:{background:t.primary,color:"white",border:"none",borderRadius:20,padding:"8px 16px",fontSize:14,marginTop:16,cursor:"pointer"},children:"Registrar nueva consulta"})]})]})]});function L({onNavigate:i}){const[o,a]=d.useState("centers"),[s,c]=d.useState(null),[l,m]=d.useState(null),[x,g]=d.useState(""),[h,p]=d.useState(!1),[u,y]=d.useState([{id:1,name:"IES Ibáñez Martín",address:"Av. Juan Carlos I, Lorca",nextVisit:"Miércoles 10:00",hasAlert:!0,consultationDay:"wednesday",consultationStartTime:"10:00",consultationEndTime:"11:00",consultationLocation:"Sala de enfermería",students:[{id:101,nre:"30012345",age:15,gender:"Femenino",grade:"3º ESO",lastVisit:"12/04/2025",history:[{type:"Consulta general",date:"12/04/2025",description:"La estudiante acudió por dolor de cabeza recurrente.",tags:["Dolor","Cefalea"]}]},{id:102,nre:"30023456",age:16,gender:"Masculino",grade:"4º ESO",lastVisit:null,history:[]}]}]),r=u.filter(n=>n.name.toLowerCase().includes(x.toLowerCase())),f=s?s.students.filter(n=>n.nre.includes(x)):[],S=n=>{c(n),a("students"),g("")},v=n=>{m(n),a("history")},z=n=>{const w=u.map(b=>b.id===n.id?n:b);y(w),c(n),p(!1)},C=()=>e.jsxs("div",{children:[e.jsx(j,{title:"Mis Centros",onBack:()=>i("dashboard")}),e.jsxs("div",{style:{position:"relative",marginBottom:16},children:[e.jsx("input",{type:"text",value:x,onChange:n=>g(n.target.value),placeholder:"Buscar centro...",style:{width:"100%",padding:"10px 16px 10px 40px",borderRadius:8,border:`1px solid ${t.lightGrey}`,fontSize:14}}),e.jsx("span",{style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:t.textMedium,fontSize:18},children:"🔍"})]}),r.map(n=>e.jsx(M,{school:n,onSelect:S},n.id))]}),k=()=>e.jsxs("div",{children:[e.jsx(j,{title:s.name,onBack:()=>a("centers")}),h?e.jsx(T,{school:s,onSave:z,onCancel:()=>p(!1)}):e.jsxs("div",{style:{background:"white",borderRadius:12,padding:16,marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:16},children:"Consulta Joven"}),e.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:14,color:t.textMedium},children:[s.nextVisit," · ",s.consultationLocation]})]}),e.jsx("button",{onClick:()=>p(!0),style:{background:"none",border:`1px solid ${t.primary}`,color:t.primary,borderRadius:20,padding:"6px 12px",fontSize:13,cursor:"pointer"},children:"Modificar horario"})]}),e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:16},children:"Estudiantes"}),f.map(n=>e.jsx(E,{student:n,onSelect:v},n.id))]});return e.jsxs("div",{style:{padding:"1rem",paddingBottom:80,maxWidth:"800px",margin:"0 auto"},children:[e.jsx(R,{}),o==="centers"&&C(),o==="students"&&k(),o==="history"&&e.jsx(D,{student:l,onBack:()=>a("students")}),e.jsx(B,{active:"centers",onNavigate:i,userType:"professional"})]})}export{L as default};
